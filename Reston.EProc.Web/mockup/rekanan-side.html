<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Mandiri Tunas Finance</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="font-awesome/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="ionicons/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">
	<link rel="stylesheet" href="plugins/select2/select2.min.css">
	
	<link rel="stylesheet" href="plugins/datatables/dataTables.bootstrap.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	<link rel="stylesheet" href="dist/site.css">
	<link href="plugins/jQueryUItotop/ui.totop.css" rel="stylesheet" />
	<link href="chatjs/css/jquery.chatjs.css" rel="stylesheet" /> 
	<link href="plugins/datepicker/datepicker3.css" rel="stylesheet" />
	<link rel="stylesheet" href="dropzone.css">
	<style>
		.dz-error-mark{
			/*display:none !important;*/
		}
		.dropzone{
			height: 80%;
		}
        
        .form-validation-error {
            border: 1px solid #d85b5b;
            /*border-radius: 7px;*/
        }

        .form-validation-error:focus { 
            outline: none;
            border-color: #f52424;
            box-shadow: 0 0 5px #f52424;
        }

        .displaynone {
            /*display:none;*/
        }
        .req {
            color: red
        }
        .p2-ukm {
            display:none
        }
        .p2-nukm{
            display:none
        }
        .pengajuan-info-lanjutan {
            display:none
        }
	</style>
  </head>
 <body class="hold-transition skin-blue  sidebar-collapse sidebar-mini fixed" data-spy="scroll" data-target="#myScrollspy">
    <div class="wrapper">

      
    <div id="header">
        <header class="main-header">
            <!-- Logo -->
            <a class="logo">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini" style="line-height:60px;"><img src="dist/img/mtf-bg-biru.png" width="50px" /></span>
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg"><img src="dist/img/mtf-bg-biru.png" width="100px" /></span>
            </a>
            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top" role="navigation">
                <!-- Sidebar toggle button-->
                <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                    <span class="sr-only">Toggle navigation</span>
                </a>
                <div class="navbar-custom-menu pull-left">
                    <ul class="nav navbar-nav">
                        <li>	<a id="judul-page" href="#">Profil Anda</a></li>
                    </ul>
                </div>
            </nav>
        </header>
    </div>
          <!-- Left side column. contains the logo and sidebar -->
      <div id="menu">
          <aside class="main-sidebar" ng-app="app" >
        <!-- sidebar: style can be found in sidebar.less -->
         <section class="sidebar" >
          <!-- sidebar menu: : style can be found in sidebar.less -->
          <ul class="sidebar-menu"  ng-controller="side-menu">
           <!-- <li class="header">MAIN NAVIGATION</li>-->
             
			<li class="treeview" ng-repeat="menu in menus">
				<a href="{{menu.url}}">
				    <i class="{{menu.css}}"></i> <span ng-bind="menu.menu">Dashboard</span>
				</a>				
			</li>
          </ul>
        </section>
        <!-- /.sidebar -->
      </aside>
      </div>
    
      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
    

		 <section class="content">

			<div class="box box-primary box-white">
				
				<div class="box-body">	
					<div class="col-md-10">	
                        <form id="formVendor" action="/Api/Vendor/EditVendor" method="post">
                            <input type="hidden" name="id" />
                            <input type="hidden" name="gCaptchaResponse" />
                            <div class="row p2">
                                <div class="box box-title">
                                    <div class="box-header with-border">
                                        <h3 class="box-title" id="section-1">Jenis Perusahaan</h3>
                                        <div class="box-tools pull-right">

                                        </div>
                                    </div><!-- /.box-header -->
                                    <div class="box-body">

                                        <div class="row form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Jenis Usaha</label>
                                                <div class="col-sm-4">
                                                    <select id="sub_kategori" name="TipeVendor" class="form-control select2 required" style="width: 100%;">
                                                        <option value="1">Perorangan</option>
                                                        <option value="2">UKM</option>
                                                        <option value="3">Bukan UKM</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                    </div><!-- /.box-body -->

                                </div>
                            </div>
                            <div class="row p2">
                                <div class="box box-title">
                                    <div class="box-header with-border">
                                        <h3 class="box-title" id="section-1"><span class="p2-ukm p2-nukm">Informasi Perusahaan</span><span class="p2-perorangan">Identitas Diri</span></h3>
                                        <div class="box-tools pull-right">

                                        </div>
                                    </div><!-- /.box-header -->
                                    <div class="box-body">

                                        <div class="row">
                                            <div class="col-md-12" style="display:none" id="alert-validation-error">
                                                <div class="alert alert-danger alert-dismissible" role="alert">
                                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                    <strong>Kesalahan!</strong> Field wajib (bertanda *) harus diisi lengkap.
                                                </div>
                                            </div>
                                            <div class="col-md-12 form-horizontal">
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label"><span class="p2-ukm p2-nukm">Nama Perusahaan</span><span class="p2-perorangan">Nama</span><span class="req">*</span></label>
                                                    <div class="col-sm-10">
                                                        <input name="Nama" type="text" maxlength="255" class="form-control required" placeholder="Nama Perusahaan">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">Alamat <span class="req">*</span></label>
                                                    <div class="col-sm-10">
                                                        <input name="Alamat" type="text" maxlength="1000" class="form-control required" placeholder="Alamat Lengkap">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">Provinsi <span class="req">*</span></label>
                                                    <div class="col-sm-4">
                                                        <select id="listProvinsi" name="Provinsi" class="form-control select2 required" style="width: 100%;"></select>
                                                    </div>
                                                    <label class="col-sm-2 control-label">Kabupaten/Kota <span class="req">*</span></label>
                                                    <div class="col-sm-4">
                                                        <input name="Kota" type="text" maxlength="100" class="form-control" placeholder="Kota">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">Kode Pos <span class="req">*</span></label>
                                                    <div class="col-sm-4">
                                                        <input name="KodePos" type="text" maxlength="6" class="form-control" placeholder="Kode Pos">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">Website</label>
                                                    <div class="col-sm-4">
                                                        <input name="Website" type="text" maxlength="100" class="form-control" placeholder="website.com">
                                                    </div>
                                                    <label class="col-sm-2 control-label">Email <span class="req">*</span></label>
                                                    <div class="col-sm-4">
                                                        <input name="Email" type="text" maxlength="150" class="form-control" placeholder="vendor@website.com">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">Telepon <span class="req">*</span></label>
                                                    <div class="col-sm-4">
                                                        <input name="Telepon" type="text" maxlength="20" class="form-control" placeholder="(021) 322 454">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div><!-- /.box-body -->

                                </div>
                            </div>
                            <div class="row p2">
                                <div class="box box-title">
                                    <div class="box-header with-border">
                                        <h3 class="box-title" id="section-2"><span class="p2-nukm p2-ukm">Pajak</span><span class="p2-perorangan">Pajak & Identitas</span></h3>
                                        <div class="box-tools pull-right">

                                        </div>
                                    </div><!-- /.box-header -->
                                    <div class="box-body">
                                        <div class="row">
                                            <div class="col-md-12 form-horizontal">
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">NPWP</label>
                                                    <div class="col-sm-4">
                                                        <input name="NPWP.Nomor" type="text" maxlength="100" class="form-control" placeholder="Nomor NPWP">
                                                    </div>
                                                    <label class="col-sm-2 control-label p2-ukm p2-nukm">Nomor PKP</label>
                                                    <div class="col-sm-4 p2-ukm p2-nukm">
                                                        <input name="PKP.Nomor" type="text" maxlength="100" class="form-control" placeholder="Nomor PKP">
                                                    </div>
                                                    <label class="col-sm-2 control-label p2-perorangan">KTP</label>
                                                    <div class="col-sm-4 p2-perorangan">
                                                        <input name="KTP.Nomor" type="text" maxlength="100" class="form-control" placeholder="Nomor KTP">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-6" id="npwp-add">
                                                        <div id="FileNPWP" action="api/Dokumen/UploadFile?tipe=NPWP"></div>
                                                        <input name="NPWP.id" type="hidden">
                                                        <input name="NPWP.File" type="hidden">
                                                        <input name="NPWP.ContentType" type="hidden">
                                                    </div>

                                                    <div class="col-sm-6 p2-ukm p2-nukm">
                                                        <div id="FilePKP" action="api/Dokumen/UploadFile?tipe=PKP"></div>
                                                        <input name="PKP.id" type="hidden">
                                                        <input name="PKP.File" type="hidden">
                                                        <input name="PKP.ContentType" type="hidden">
                                                    </div>
                                                    <div class="col-sm-6 p2-perorangan">
                                                        <div id="FileKTP" action="api/Dokumen/UploadFile?tipe=KTP"></div>
                                                        <input name="KTP.id" type="hidden">
                                                        <input name="KTP.File" type="hidden">
                                                        <input name="KTP.ContentType" type="hidden">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div><!-- /.box-body -->

                                </div>
                            </div>
                            <div class="row p2 p2-ukm p2-nukm">
                                <div class="box box-title p2-ukm p2-nukm">
                                    <div class="box-header with-border">
                                        <h3 class="box-title" id="section-3">Akta Pendirian</h3>
                                        <div class="box-tools pull-right">

                                        </div>
                                    </div><!-- /.box-header -->
                                    <div class="box-body">

                                        <div class="row">
                                            <div class="col-md-12 form-horizontal">
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Nomor</label>
                                                    <div class="col-sm-3">
                                                        <input name="Akta.Nomor" type="text" maxlength="100" class="form-control" placeholder="Nomor Akta">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Notaris</label>
                                                    <div class="col-sm-3">
                                                        <input name="Akta.Notaris" type="text" maxlength="100" class="form-control" placeholder="Notaris">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Tanggal</label>
                                                    <div class="col-sm-3">
                                                        <input name="Akta.Tanggal" type="text" class="form-control datepicker" placeholder="Tanggal">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div id="FileAkta" action="api/Dokumen/UploadFile?tipe=AKTA"></div>
                                                    <input name="Akta.id" type="hidden">
                                                    <input name="Akta.File" type="hidden">
                                                    <input name="Akta.ContentType" type="hidden">
                                                </div>
                                            </div>
                                            <h3 class="box-title">Akta Perubahan Terakhir</h3>
                                            <div class="col-md-12 form-horizontal">
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Nomor</label>
                                                    <div class="col-sm-3">
                                                        <input name="AktaTerakhir.Nomor" type="text" maxlength="100" class="form-control" placeholder="Nomor Akta">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Notaris</label>
                                                    <div class="col-sm-3">
                                                        <input name="AktaTerakhir.Notaris" type="text" maxlength="100" class="form-control" placeholder="Notaris">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Tanggal</label>
                                                    <div class="col-sm-3">
                                                        <input name="AktaTerakhir.Tanggal" type="text" class="form-control datepicker" placeholder="Tanggal">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div id="FileAktaTerakhir" action="api/Dokumen/UploadFile?tipe=AKTA"></div>
                                                    <input name="AktaTerakhir.id" type="hidden">
                                                    <input name="AktaTerakhir.File" type="hidden">
                                                    <input name="AktaTerakhir.ContentType" type="hidden">
                                                </div>
                                            </div>
                                        </div>

                                    </div><!-- /.box-body -->

                                </div>
                            </div>
                            <div class="row p2 p2-ukm p2-nukm">
                                <div class="box box-title p2-ukm p2-nukm">
                                    <div class="box-header with-border">
                                        <h3 class="box-title" id="section-4">Izin Usaha</h3>
                                        <div class="box-tools pull-right">

                                        </div>
                                    </div><!-- /.box-header -->
                                    <div class="box-body">

                                        <h3>Tanda Daftar Perusahaan</h3>
                                        <div class="row form-horizontal">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Nomor</label>
                                                    <div class="col-sm-3">
                                                        <input name="TDP.Nomor" type="text" maxlength="100" class="form-control" placeholder="Nomor">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Instansi</label>
                                                    <div class="col-sm-3">
                                                        <input name="TDP.Instansi" type="text" maxlength="100" class="form-control" placeholder="Instansi">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Berlaku s/d</label>
                                                    <div class="col-sm-3">
                                                        <input name="TDP.MasaBerlaku" type="text" class="form-control datepicker" placeholder="Kadaluarsa">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Klasifikasi</label>
                                                    <div class="col-sm-3">
                                                        <input name="TDP.Klasifikasi" type="text" maxlength="100" class="form-control" placeholder="Klasifikasi">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Kualifikasi</label>
                                                    <div class="col-sm-3">
                                                        <input name="TDP.Kualifikasi" type="text" maxlength="100" class="form-control" placeholder="Kualifikasi">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div id="FileTDP" action="api/Dokumen/UploadFile?tipe=TDP"></div>
                                                    <input name="TDP.id" type="hidden">
                                                    <input name="TDP.File" type="hidden">
                                                    <input name="TDP.ContentType" type="hidden">
                                                </div>
                                            </div>
                                        </div>
                                        <h3>SIUP</h3>
                                        <div class="row form-horizontal">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Nomor</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUP.Nomor" type="text" maxlength="100" class="form-control" placeholder="Nomor">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Instansi</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUP.Instansi" type="text" maxlength="100" class="form-control" placeholder="Instansi">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Berlaku s/d</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUP.MasaBerlaku" type="text" class="form-control datepicker" placeholder="Kadaluarsa">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Klasifikasi</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUP.Klasifikasi" type="text" maxlength="100" class="form-control" placeholder="Klasifikasi">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Kualifikasi</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUP.Kualifikasi" type="text" maxlength="100" class="form-control" placeholder="Kualifikasi">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div id="FileSIUP" action="api/Dokumen/UploadFile?tipe=SIUP"></div>
                                                    <input name="SIUP.id" type="hidden">
                                                    <input name="SIUP.File" type="hidden">
                                                    <input name="SIUP.ContentType" type="hidden">
                                                </div>
                                            </div>
                                        </div>
                                        <h3>SIUJK</h3>
                                        <div class="row form-horizontal">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Nomor</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUJK.Nomor" type="text" maxlength="100" class="form-control" placeholder="Nomor">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Instansi</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUJK.Instansi" type="text" maxlength="100" class="form-control" placeholder="Instansi">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Berlaku s/d</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUJK.MasaBerlaku" type="text" class="form-control datepicker" placeholder="Kadaluarsa">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Klasifikasi</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUJK.Klasifikasi" type="text" maxlength="100" class="form-control" placeholder="Klasifikasi">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Kualifikasi</label>
                                                    <div class="col-sm-3">
                                                        <input name="SIUJK.Kualifikasi" type="text" maxlength="100" class="form-control" placeholder="Kualifikasi">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div id="FileSIUJK" action="api/Dokumen/UploadFile?tipe=SIUJK"></div>
                                                    <input name="SIUJK.id" type="hidden">
                                                    <input name="SIUJK.File" type="hidden">
                                                    <input name="SIUJK.ContentType" type="hidden">
                                                </div>
                                            </div>
                                        </div>

                                    </div><!-- /.box-body -->

                                </div>
                            </div>
                            <div class="row p2 p2-ukm p2-nukm">
                                <div class="box box-title p2-ukm p2-nukm">
                                    <div class="box-header with-border">
                                        <h3 class="box-title" id="section-5">Key Persons</h3>
                                        <div class="box-tools pull-right">

                                        </div>
                                    </div><!-- /.box-header -->
                                    <div class="box-body">

                                        <div class="row">

                                            <div class="col-md-12 form-horizontal">
                                                <div class="form-group" id="p2-persons">
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">Nama</label>
                                                    <div class="col-sm-2">
                                                        <input id="p2-pname" type="text" maxlength="100" class="form-control" placeholder="Nama">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Jabatan</label>
                                                    <div class="col-sm-2">
                                                        <input id="p2-pjab" type="text" maxlength="100" class="form-control" placeholder="Jabatan">
                                                    </div>
                                                    <label class="col-sm-1 control-label">Telepon</label>
                                                    <div class="col-sm-2">
                                                        <input id="p2-ptelp" type="text" maxlength="20" class="form-control" placeholder="Telepon">
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <input type="button" class="btn btn-primary pull-right" id="p2-addperson" value="Tambah" />
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </div><!-- /.box-body -->

                                </div>
                            </div>
                            <div class="row p2">
                                <div class="box box-title">
                                    <div class="box-header with-border">
                                        <h3 class="box-title" id="section-6">Rekening Bank</h3>
                                        <div class="box-tools pull-right">

                                        </div>
                                    </div><!-- /.box-header -->
                                    <div class="box-body">

                                        <div class="row">
                                            <div class="col-md-12 form-horizontal">
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">Nama Bank</label>
                                                    <div class="col-sm-4">
                                                        <select name="BankInfo.Nama" class="form-control select2 required" style="width: 100%;"></select>
                                                    </div>
                                                    <label class="col-sm-2 control-label">Cabang</label>
                                                    <div class="col-sm-4">
                                                        <input name="BankInfo.Cabang" type="text" maxlength="100" class="form-control" placeholder="Cabang">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">Nomor Rekening</label>
                                                    <div class="col-sm-4">
                                                        <input name="BankInfo.NomorRekening" type="text" maxlength="50" class="form-control" placeholder="Nomor Rekening">
                                                    </div>
                                                    <label class="col-sm-2 control-label">Nama pada Rekening</label>
                                                    <div class="col-sm-4">
                                                        <input name="BankInfo.NamaRekening" type="text" maxlength="100" class="form-control" placeholder="Nama Pada Rekening">
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div><!-- /.box-body -->

                                </div>
                            </div>
                            <div class="row p2">
                                <div class="col-md-1">
                                    <!--<input type="submit" value="Ajukan" class="btn btn-lg btn-success pull-right" />-->
                                    <button class="btn btn-lg btn-success" type="submit" id="submit-form-add-vendor">Submit</button>
                                </div>
                            </div>
                        </form>
					</div>	
					
					
				</div>
					
					
		</section><!-- /.content -->
    
		</div><!-- /.content-wrapper -->
     
        <aside class="control-sidebar control-sidebar-light control-sidebar-open" id="side-kanan">
            <ul class="nav nav-tabs nav-stacked">
                <li><a href="#section-1">Informasi Perusahaan</a></li>
                <li><a href="#section-2">Pajak</a></li>
                <li><a href="#section-3">Akta Pendirian</a></li>
                <li><a href="#section-4">Izin Usaha</a></li>
                <li><a href="#section-5">Key Persons</a></li>
                <li><a href="#section-6">Rekening Bank</a></li>
            </ul>
        </aside> 
        <div class="control-sidebar-bg"></div> 

	   <footer class="main-footer">
        <div class="pull-right hidden-xs">
          <b>Version</b> 1.0.0
        </div>
        <strong>Supplier Relation Management</strong> 
	    </footer>
    </div><!-- ./wrapper -->
	
     <div id="view-doc-modal" class="modal fade" role="dialog">
         <div class="modal-dialog modal-lg">
             <input type="hidden" id="row_index" />
             <!-- Modal content-->
             <div class="modal-content">
                 <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                 </div>
                 <div class="modal-body">
                     <div>
                         <iframe id="docViewFrame" width="100%" style="min-height: 500px" src="" allowfullscreen webkitallowfullscreen></iframe>
                     </div>
                 </div>
             </div>
         </div>
     </div>

	
	
	<!--chat-->
	<!--<div id="chat"></div>
	-->
    <!-- jQuery 2.1.4 -->
    <script src="plugins/jQuery/jQuery-2.1.4.min.js"></script>
    <!-- Bootstrap 3.3.5 -->
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <!-- SlimScroll -->
    <script src="plugins/slimScroll/jquery.slimscroll.min.js"></script>
    <!-- FastClick -->
    <script src="plugins/fastclick/fastclick.min.js"></script>
	<script src="dropzone.js"></script>
    
	 <script src="plugins/datatables/jquery.dataTables.min.js"></script>
	<script src="plugins/datatables/dataTables.bootstrap.min.js"></script>
	<script src="plugins/jQueryUItotop/easing.js"></script>
	<script src="plugins/jQueryUItotop/jquery.ui.totop.js"></script>
    <script src="plugins/datepicker/bootstrap-datepicker.js"></script>	
     <script src="plugins/angular/angular.min.js"></script>
     <script src="dist/js/menu.js"></script>
     <script src="site.js"></script>
	 <script>
         var personArray = [];
         var id = getParameterByName("id");

      $(function () {
          //JIMBIS STARTS HERE
          Dropzone.autoDiscover = false;
          SetListProvinsi();
          SetListBank();
          //if (id) {
              $("[name=id]").val(id);
              $(".p1").hide();
              $(".p2").show();
              $.ajax({
                  url: 'api/vendor/GetVendorDetailRekanan/',
                  success: function (data) {
                      if (data) {
                          var value = data.TipeVendor;//1 perorangan 2 ukm 3 non ukm
                          console.log("tipevendor is: "+ value);
                          if (value == 1) {
                              $(".p2-perorangan").show();
                              $(".p2-ukm").hide();
                              $(".p2-nukm").hide();
                          }
                          else if (value == 2) {
                              $(".p2-perorangan").hide();
                              $(".p2-nukm").hide();
                              $(".p2-ukm").show();
                          }
                          else if (value == 3) {
                              $(".p2-perorangan").hide();
                              $(".p2-ukm").hide();
                              $(".p2-nukm").show();
                          }
                          $("[name='TipeVendor'] option[value='" + value + "']").prop('selected', true);
                          $("[name='TipeVendor']").prop('disabled', true);
                          $("[name='id']").val(data.id);
                          $("[name='Nama']").val(data.Nama);
                          $("[name='Alamat']").val(data.Alamat);
                          $("[name='Provinsi'] option[value='" + data.Provinsi + "']").prop('selected', true);
                          $("[name='Kota']").val(data.Kota);
                          $("[name='KodePos']").val(data.KodePos);
                          $("[name='Website']").val(data.Website);
                          $("[name='Email']").val(data.Email);
                          $("[name='Telepon']").val(data.Telepon);
                          //$("[name='BankInfo.Nama']").val(data.BankInfo.NamaBank);
                          console.log(data.BankInfo.Nama);
                          $("[name='BankInfo.Nama'] option[value='" + data.BankInfo.Nama+ "']").prop('selected', true);
                          $("[name='BankInfo.NamaRekening']").val(data.BankInfo.NamaRekening);
                          $("[name='BankInfo.NomorRekening']").val(data.BankInfo.NomorRekening);
                          $("[name='BankInfo.Cabang']").val(data.BankInfo.Cabang);
                          for (var vp in data.VendorPerson) {
                              personArray.push({ Nama: data.VendorPerson[vp].Nama, Jabatan: data.VendorPerson[vp].Jabatan, Telepon: data.VendorPerson[vp].Telepon, Email: data.VendorPerson[vp].Email });
                          }
                          redrawPerson();
                          if (data.NPWP.id) {
                              $("[name='NPWP.id']").val(data.NPWP.id);
                              $("[name='NPWP.Nomor']").val(data.NPWP.Nomor);
                              generateDropZone('NPWP',data.NPWP.id);
                          } else generateDropZone('NPWP');

                          if (data.KTP.id) {
                              $("[name='KTP.id']").val(data.KTP.id);
                              $("[name='KTP.Nomor']").val(data.KTP.Nomor);
                              generateDropZone('KTP', data.KTP.id);
                          } else generateDropZone('KTP');

                          if (data.PKP.id) { 
                              $("[name='PKP.id']").val(data.PKP.id);
                              $("[name='PKP.Nomor']").val(data.PKP.Nomor);
                              generateDropZone('PKP', data.PKP.id);
                          } else generateDropZone('PKP');

                          if (data.Akta.id) { 
                              $("[name='Akta.id']").val(data.Akta.id);
                              $("[name='Akta.Nomor']").val(data.Akta.Nomor);
                              $("[name='Akta.Notaris']").val(data.Akta.Notaris);
                              $("[name='Akta.Tanggal']").val(data.Akta.Tanggal);
                              generateDropZone('Akta', data.Akta.id);
                          } else generateDropZone('Akta');

                          if(data.AktaTerakhir.id){
                              $("[name='AktaTerakhir.id']").val(data.AktaTerakhir.id);
                              $("[name='AktaTerakhir.Nomor']").val(data.AktaTerakhir.Nomor);
                              $("[name='AktaTerakhir.Notaris']").val(data.AktaTerakhir.Notaris);
                              $("[name='AktaTerakhir.Tanggal']").val(data.AktaTerakhir.Tanggal);
                              generateDropZone('AktaTerakhir', data.AktaTerakhir.id);
                          } else generateDropZone('AktaTerakhir');

                          if (data.TDP.id) {
                              $("[name='TDP.id']").val(data.TDP.id);
                              $("[name='TDP.Nomor']").val(data.TDP.Nomor);
                              $("[name='TDP.Instansi']").val(data.TDP.Instansi);
                              $("[name='TDP.MasaBerlaku']").val(data.TDP.MasaBerlaku);
                              $("[name='TDP.Klasifikasi']").val(data.TDP.Klasifikasi);
                              $("[name='TDP.Kualifikasi']").val(data.TDP.Kualifikasi);
                              generateDropZone('TDP', data.TDP.id);
                          } else generateDropZone('TDP');

                          if (data.SIUP.id) {
                              $("[name='SIUP.id']").val(data.SIUP.id);
                              $("[name='SIUP.Nomor']").val(data.SIUP.Nomor);
                              $("[name='SIUP.Instansi']").val(data.SIUP.Instansi);
                              $("[name='SIUP.MasaBerlaku']").val(data.SIUP.MasaBerlaku);
                              $("[name='SIUP.Klasifikasi']").val(data.SIUP.Klasifikasi);
                              $("[name='SIUP.Kualifikasi']").val(data.SIUP.Kualifikasi);
                              generateDropZone('SIUP', data.SIUP.id);
                          } else generateDropZone('SIUP');

                          if (data.SIUJK.id) {
                              $("[name='SIUJK.id']").val(data.SIUJK.id);
                              $("[name='SIUJK.Nomor']").val(data.SIUJK.Nomor);
                              $("[name='SIUJK.Instansi']").val(data.SIUJK.Instansi);
                              $("[name='SIUJK.MasaBerlaku']").val(data.SIUJK.MasaBerlaku);
                              $("[name='SIUJK.Klasifikasi']").val(data.SIUJK.Klasifikasi);
                              $("[name='SIUJK.Kualifikasi']").val(data.SIUJK.Kualifikasi);
                              generateDropZone('SIUJK', data.SIUJK.id);
                          } else generateDropZone('SIUJK');
                      }
                  }
              });
          //}
          //else { 
          //    $(".p2").hide();

          //    generateDropZone('NPWP');
          //    generateDropZone('PKP');
          //    generateDropZone('Akta');
          //    generateDropZone('AktaTerakhir');
          //    generateDropZone('TDP');
          //    generateDropZone('SIUP');
          //    generateDropZone('SIUJK');
          //}
 
          
		$(".p3").hide();
		$("#p1-go").click(function(){
			$(".p1").hide();
			$(".p2").show();
		});
		
		$("#p2-ajukan").click(function(){
			//INPUT VALIDATION
			$("#ModalHapus").modal('show');
		});
		$("#p2-setuju").click(function(){
			//INPUT VALIDATION
			$("#p3-begin").modal('show');
		});
		$("#p2-setuju-ok").click(function(){
			//INPUT VALIDATION
			$("#ModalHapus").modal('hide');
			$("#p3-begin").modal('hide');
			$(".p2").hide();
			$(".p3").show();
		});
		$("#p2-batal").click(function(){
			$(".p2").hide();
			$(".p1").show();
		});
		$("#p2-addperson").click(function(){
			console.log("pushing new person");
			var n = $("#p2-pname").val();
			var j = $("#p2-pjab").val();
			var t = $("#p2-ptelp").val();
			personArray.push({ Nama: n, Jabatan: j, Telepon: t });
			redrawPerson();
			
		});
		
		$("#p3-detail").click(function(){
			$(".p3").hide();
			$(".p2").show();
		});

		$(".datepicker").datepicker({
		    //showOtherMonths: true,
		    format: "yyyy/mm/dd"
		    //changeYear: true,
		    //changeMonth: true
		    //yearRange: "-90:+4", //+4 Years from now
		});

	  
	  //JIMBIS ENDS HERE
	  $("#myNav").affix({
			offset: { 
				top: 100 
			}
		});
       $().UItoTop({ easingType: 'easeOutQuart' });
	    $(".datepicker").datepicker({
			showOtherMonths: true,
			format: "dd/mm/yy",
			changeYear: true,
			changeMonth: true,
			yearRange: "-90:+4", //+4 Years from now
			
		});
        		
		$.getScript( "dist/js/app.min.js" );
		$(".remove-vendor").on("click", function () {
				var vl = $(this).closest('tr')[0];
                $("#row_index").val(vl.rowIndex);
                $("#ModalHapus").modal("show");
            });
		$("#eveHapus").on("click", function () {
				var index=$("#row_index").val();
				//var el=$('#example1 tr').eq(index);
                table.row(index).remove().draw();
                $("#ModalHapus").modal("hide");
            });
			$("#example1_filter").hide();
		$("#cari").on("click",function(){
			var kategori=$("#kategori option:selected").text();
			var subKategori=$("#sub_kategori option:selected").text();
			var nama_item=$("#nama_item").val();
			table.columns(0).search( nama_item ).draw();
			//table.columns(1).search( kategori ).draw();
			//table.columns(2).search( subKategori ).draw();
		});
		
		
      });


      function generateDropZone(el,id) {
          var dzOption = {
              maxFilesize: 5,
              //url: 'api/Vendor/UploadFile?tipe=NPWP',
              maxFiles: 1,
              acceptedFiles: ".png,.jpg,.pdf,.xls,.jpeg,.doc,.xlsx",
              accept: function (file, done) {
                  done();
              },
              success: function (file, response) {
                  $("[name='NPWP.File']").val(response.File);
                  $("[name='NPWP.ContentType']").val(response.ContentType);
              },
              init: function () {
                  this.on("addedfile", function () {
                      if (this.files[1] != null) {
                          this.removeFile(this.files[0]);
                      }
                  });
              }
          };
          $('#File' + el).addClass('dropzone');
          var tmp = new Dropzone('#File'+el,{
              maxFilesize: dzOption.maxFilesize, maxFiles: dzOption.maxFiles, acceptedFiles: dzOption.acceptedFiles,
              accept: dzOption.accept, init: dzOption.init, success: function (file, response) { $("[name='" + el + ".File']").val(response.File); $("[name='" + el + ".ContentType']").val(response.ContentType); }
          });
          if (id) {
              var mockFile = {
                  Id: id, name: el, accepted: true,
                  status: Dropzone.SUCCESS, processing: true, size: 0
              };

              tmp.emit("addedfile", mockFile);
              tmp.emit("complete", mockFile);
              tmp.files.push(mockFile);

              $('#File' + el + ' .dz-size').hide();
          }
          return tmp;
      }

      function renderDokumenDropzone(myDropzone, tipe) {
          $.ajax({
              url: "Api/Dokumen/getDokumen?Id=" + $("[name='NPWP.Id']").val(),
              success: function (data) {
                  for (var key in data) {
                      var file = {
                          Id: data[key].Id, name: data[key].File, accepted: true,
                          status: Dropzone.SUCCESS, processing: true, size: data[key].SizeFile
                      };
                      //thisDropzone.options.addedfile.call(thisDropzone, file);
                      myDropzone.emit("addedfile", file);
                      myDropzone.emit("complete", file);
                      myDropzone.files.push(file);
                  }
              },
              error: function (errormessage) {

                  //location.reload();

              }
          });
      }

      function OpenFile(id) {
          $.ajax({
              url: "api/Dokumen/ViewFile2/" + id,
              success: function (response) {
                  console.log(response);
                  if (response.id != "") {
                      var bUrl = "/ViewerNotSupported.html?id=";
                      if (response.contentType.indexOf("image/") != -1)
                          bUrl = "/ImageViewer.html?id=";
                      else if (response.contentType.indexOf("application/pdf") != -1)
                          bUrl = "/api/Dokumen/OpenFile/";
                      bUrl += response.id;
                      $("#docViewFrame").attr("src", bUrl);
                      $("#view-doc-modal").modal("show");
                  }
              }
          });
      }

      function redrawPerson() {
          console.log("redrawing, length:" + personArray.length);
          $("#p2-persons").html('');//clearing view
          for (var i = 0; i < personArray.length; i++) {
              $("#p2-persons").append(
              '<div class="col-md-12"><div class="col-md-1 p2-p">Nama:</div>' +
              '<div class="col-md-2 p2-p"><input name="VendorPerson['+ (i)+'].Nama" type="text" value="' + personArray[i].Nama + '" class="form-control" /></div>' +
              '<div class="col-md-1 p2-p">Jabatan:</div>' +
              '<div class="col-md-2 p2-p"><input name="VendorPerson[' + (i) + '].Jabatan" type="text" value="' + personArray[i].Jabatan + '" class="form-control" /></div>' +
              '<div class="col-md-1 p2-p">Telepon:</div>' +
              '<div class="col-md-2 p2-p"><input name="VendorPerson[' + (i) + '].Telepon" type="text" value="' + personArray[i].Telepon + '" class="form-control" /></div>' +
              '<div class="col-md-3 pull-right p2-p"><input type="button" class="btn btn-xs btn-danger" onclick="del(' + i + ')" value="Buang" /></div><br /></div>'
              );
          }

      }

      function SetListProvinsi() {
          $.ajax({
              url: "/api/ReferenceData/GetAllProvinsi",
              success: function (data) {
                  for (var i in data) { 
                      $("#listProvinsi").append("<option value='"+data[i].Name + "'>"+data[i].Name+"</option>");
                  }
              }
          });
      }

      function SetListBank() {
          $.ajax({
              url: "/api/ReferenceData/GetAllBank",
              success: function (data) {
                  for (var i in data) {
                      $("[name='BankInfo.Nama']").append("<option value='" + data[i].Name + "'>" + data[i].Name + "</option>");
                  }
              }
          });
      }

      var frm = $('#formVendor');
      frm.submit(function (ev) {
          var v = validateForm();
          if (id) frm.attr('action', '/Api/Vendor/EditVendor');
          if (v){
              console.log("sending");
              $.ajax({
                  type: frm.attr('method'),
                  url: frm.attr('action'),
                  data: frm.serialize(),
                  success: function (data) {
                      //alert('data' + data);
                      window.location.href = "rekanan-side.html";
                  }
              });
          }
            ev.preventDefault();
      });

      function validateForm() {
          var v = true;
          $('.form-validation-error').removeClass('form-validation-error');
          if ($("[name='Nama']").val() == '') {
              $("[name='Nama']").addClass('form-validation-error');
              v = false;
          }
          if ($("[name='Alamat']").val() == '') {
              $("[name='Alamat']").addClass('form-validation-error');
              v = false;
          }
          if ($("[name='Provinsi']").val() == '') {
              //console.log("provinsi val:"+$("[name='Provinsi']").val())
              $("[name='Provinsi']").addClass('form-validation-error');
              v = false;
          }
          if ($("[name='Kota']").val() == '') {
              $("[name='Kota']").addClass('form-validation-error');
              v = false;
          }
          if ($("[name='KodePos']").val() == '') {
              $("[name='KodePos']").addClass('form-validation-error');
              v = false;
          }
          if ($("[name='Telepon']").val() == '') {
              $("[name='Telepon']").addClass('form-validation-error');
              v = false;
          }
          if (!v)$("form .form-validation-error").first().focus();
          return v;
      }
	  
      function del(s) {
          //console.lo("deleteing index: "+s);
		    personArray.splice(s, 1);
		    redrawPerson();
      }

      function ChangeFile(dok) {
          $edit = $(dok + "edit");
          $add = $(dok + "add");
          if ($edit.hasClass('displaynone')) {
              $edit.removeClass('displaynone');
              $add.addClass('displaynone');
          }
          else {
              $edit.addClass('displaynone');
              $add.removeClass('displaynone');
          }
      }

      function getRiwayatVendor() {
          $.ajax({
              url: "api/Vendor/GetRiwayatVendor?id=" + id,
              success: function (data) {
                  for (var i in data) {
                      var r = '<li class="item" style="padding-top:1px">' +
                          '<div class="riwayat-info">' +
                              '<span class="title"><i>' + data[i].Pesan + '</i></span>' +
                              '<span class="pegadaan-description"><strong>' + data[i].Tanggal
                      '</strong></span>' +
                      '<span class="pegadaan-item"></span></div></li>';
                      $("#list-riwayat-vendor").append(r);
                  }
              },
              complete: function (xhr, textStatus) {
                  ajaxCompleteProcess(xhr);
              }
          });
      }

    </script>
	<!-- AdminLTE App <script src="dist/js/app.min.js"></script> -->
    
  </body>
</html>
